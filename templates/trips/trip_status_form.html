{% extends 'base.html' %}

{% block title %}Update Trip Status - Transport Management System{% endblock %}

{% block content %}
<h2>Update Trip Status</h2>

<div class="mb-1">
    <strong>Trip Number:</strong> {{ trip.trip_number }}<br>
    <strong>Client:</strong> {{ trip.client_name }}<br>
    <strong>Current Status:</strong> 
    <span class="status-badge status-{{ trip.status|slugify }}">
        {{ trip.status }}
    </span>
</div>

<form method="post">
    {% csrf_token %}
    
    <div class="form-group">
        {{ form.status.label_tag }}
        {{ form.status }}
        {% if form.status.errors %}
            <div class="error" style="color: #e74c3c; margin-top: 5px;">
                {{ form.status.errors }}
            </div>
        {% endif %}
    </div>
    
    <div style="margin-top: 1.5rem;">
        <button type="submit" class="btn btn-success">Update Status</button>
        <a href="{% url 'trip-detail' trip.pk %}" class="btn" style="margin-left: 1rem;">Cancel</a>
    </div>
</form>
{% endblock %}